@model List<CarpetStore.Models.Product>

<div style="margin-top: 100px; padding: 20px;">
    <h2 style="text-align: center; font-size: 2rem; font-weight: 600; margin-bottom: 40px;">@ViewBag.Category Collection</h2>

    @if (ViewBag.DebugInfo != null)
    {
        <div class="mb-4 text-center" style="color: #1a73e8;">
            <p style="font-size: 1.1rem;">@ViewBag.DebugInfo</p>
        </div>
    }

    <div class="row" style="justify-content: center;">
        @if (Model.Any())
        {
            @foreach (var product in Model)
            {
                <div class="col-md-4 mb-4">
                    <div style="background: white; border-radius: 15px; box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1); padding: 20px; height: 100%;">
                        <div style="text-align: center; margin-bottom: 15px;">
                            <img src="@product.ImageUrl" alt="@product.Name" 
                                 style="width: 100%; height: 250px; object-fit: cover; border-radius: 10px;"
                                 onerror="this.src='/images/no-image.png'">
                        </div>
                        <h3 style="font-size: 1.2rem; font-weight: 600; text-align: center; margin-bottom: 10px;">
                            @product.Name
                        </h3>
                        <p style="color: #666; text-align: center; margin-bottom: 15px;">
                            @product.Detail
                        </p>
                        <div style="text-align: center; margin-bottom: 20px;">
                            <span style="font-size: 1.3rem; font-weight: 600; color: #2c3e50;">
                                @product.Price.ToString("C2")
                            </span>
                        </div>
                        <div style="text-align: center;">
                            <a asp-action="Detail" asp-route-id="@product.Id" 
                               class="btn btn-primary" style="padding: 8px 20px; border-radius: 25px;">
                                View Details
                            </a>
                        </div>
                    </div>
                </div>
            }
        }
        else
        {
            <div class="col-12 text-center">
                <p>No products found in this category.</p>
            </div>
        }
    </div>
</div> 